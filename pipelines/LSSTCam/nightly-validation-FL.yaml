description: >
  Temporary pipeline for validating FL data on a daily cadence
  To be deleted after May 2025
imports:
  # We are only supposed to import from ingredients
  # but this pipeline only serves to validate and inform changes
  # to the DRP-FL pipeline
  - location: $DRP_PIPE_DIR/pipelines/LSSTCam/DRP-FL.yaml
    labeledSubsetModifyMode: EDIT
    exclude:
      - standardizeSingleVisitStar
      - consolidateSingleVisitStar
      - selectTemplateCoaddVisits
      - assembleTemplateCoadd
      - detectCoaddPeaks
      - stage4-measure-variability
tasks:
  assembleDeepCoadd:
    class: lsst.drp.tasks.assemble_coadd.CompareWarpAssembleCoaddTask
    config:
      doFilterMorphological: true
  makeDirectWarp:
    class: lsst.drp.tasks.make_direct_warp.MakeDirectWarpTask
    config:
      connections.background_apply_list: visit_background_diff
  skyCorr:
    class: lsst.pipe.tasks.skyCorrection.SkyCorrectionTask
    config:
      doBgModel2: true
      bgModel2.xSize: 20.48  # 2048 * 0.01 mm
      bgModel2.ySize: 20.48  # 2048 * 0.01 mm
      bgModel2.pixelSize: 0.01  # mm per pixel

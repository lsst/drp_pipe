description: |
    A fast pipeline to be run on the rapid analysis framework at
    the summit which feeds RubinTV for realtime observer feedback
    specialized for LSSTCam.
instrument: lsst.obs.lsst.LsstCam
imports:
  - location: $DRP_PIPE_DIR/pipelines/_ingredients/base-v2.yaml
    include:
      - isr
      - calibrateImage
      - consolidateVisitSummary
      - makeInitialVisitDetectorTable
      - makeInitialVisitTable

tasks:
  isr:
    class: lsst.ip.isr.IsrTaskLSST
    config:
      # Turn off slow steps in ISR
      doBrighterFatter: false
      doAmpOffset: false

subsets:
  # formerly step1
  step1a-single-visit-detectors:
    subset:
      - isr
      - calibrateImage
  # formerly step2
  step1b-single-visit-visits:
    subset:
      - consolidateVisitSummary
  # formerly nightlyRollup. Ths is redundant with consDB now
  step1d-single-visit-global:
    subset:
      - makeInitialVisitDetectorTable
      - makeInitialVisitTable
